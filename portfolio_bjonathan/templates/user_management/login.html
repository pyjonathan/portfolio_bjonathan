{% extends "user_management_base.html" %}
{% block programs_title_bar %}{% endblock %}

{% block content %}
<div class="container">
    <div class="jumbotron">
        <h2>Log In</h2>
    </div>
    <form method="POST" class="form-horizontal">
        {# This hidden_tag is a CSRF security feature. #}
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.username.label(class="col-sm-2 control-label") }}
            <div class="col-sm-10">
                {{ form.username(class="form-control", style="width:400px") }}
                <small>Username:  demo</small>
            </div>
            {% if form.username.errors %}
            <div class="alert alert-danger alert-dismissible" role="alert">
                <ul class="flashes">
                    {% for error in form.username.errors %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <strong>{{ message }}{{ error }}</strong>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% with errors = get_flashed_messages(category_filter=["login_error"]) %}
            {% if errors %}
            <div class="alert alert-danger alert-dismissible" role="alert">
                <ul class="flashes">
                    {% for msg in errors %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <strong>{{ msg }}</strong>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
            {% endwith %}
        </div>

        <div class="form-group">
            {{ form.password.label(class="col-sm-2 control-label") }}
            <div class="col-sm-10">
                {{ form.password(class="form-control", style="width:400px") }}
                <small>Password:  Password1</small>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                {{ form.submit(class="btn btn-primary") }}
            </div>
        </div>
    </form>
</div>
{% endblock %}